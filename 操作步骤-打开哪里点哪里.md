# 手把手操作步骤：打开哪里、点哪里、然后呢

按顺序做，每步都写清楚「打开什么」「点哪里」「然后做什么」。

---

## 一、只想在电脑上试玩（不接真实微信）

### 1. 打开并启动服务器

- **打开**：在电脑上找到项目文件夹 `2026_2_7`。
- **双击**：`启动带登录.bat`。
- **等**：窗口里出现 `Server: http://localhost:3000` 就表示启动成功。
- **不要关**：这个黑窗口要一直开着，关掉就相当于关了服务器。

### 2. 打开网页

- **打开**：浏览器（Chrome / Edge 等）。
- **在地址栏输入**：`http://localhost:3000`，按回车。
- **确认**：地址栏里显示的是 `http://localhost:3000`（不要是别的端口或 `file://`）。

### 3. 点哪里、然后呢

- **点**：页面右上角或结果页里的 **「微信登录」**。
- **然后**：会直接变成「试玩用户」登录状态（模拟登录，不是真实微信）。
- **再**：选泥 → 定型 → 拉坯 → 利坯 → 施釉 → 烧制，做完后点 **「收藏」**。
- **最后**：点 **「我的作品」**，能看到刚收藏的那一件。

以上都在本机完成，不需要微信开放平台，也不需要域名。

---

## 二、要真实微信登录（用户用微信扫码登录、数据按人保存）

需要先有：**企业主体**（个人不能申请网站应用）、**已备案的域名**、**能开 HTTPS 的服务器**。下面按「打开哪里、点哪里」写。

---

### 第一步：打开微信开放平台

- **打开**：浏览器，在地址栏输入  
  **https://open.weixin.qq.com/**  
  回车。
- **点**：右上角 **「登录」** 或 **「注册」**（没有账号就选注册，要用企业主体）。
- **然后**：用管理员微信扫码完成登录/注册。

---

### 第二步：进入「管理中心」

- **登录后**：在页面顶部或左侧找到 **「管理中心」**。
- **点**：**「管理中心」**。
- **然后**：在左侧菜单里找到 **「网站应用」**（可能在「应用管理」或「公众账号/网站应用」下）。
- **点**：**「网站应用」**。

---

### 第三步：创建网站应用

- **点**：页面上的 **「创建网站应用」** 或 **「添加」** 按钮。
- **然后**：按页面要求填写：
  - 应用名称（如：指尖非遗景德镇）
  - 应用简介
  - 应用官网（你的网站地址，如 `https://你的域名.com`）
  - 其他必填项
- **点**：**「提交」** 或 **「提交审核」**。
- **然后**：等审核通过（通常几天），在「网站应用」列表里能看到该应用，状态为「已通过」或「已发布」。

---

### 第四步：拿到 AppID 和 AppSecret

- **打开**：在「网站应用」列表里，**点** 你刚通过审核的那个应用名称，进入应用详情。
- **找**：**「开发信息」** 或 **「接口信息」** 这类标签/区块。
- **看**：  
  - **AppID**：页面上会直接显示，形如 `wx1234567890abcdef`，复制保存。  
  - **AppSecret**：一般要 **点「重置」或「生成」** 才会显示，只显示一次，务必复制保存到本地（如记事本），不要泄露。

---

### 第五步：配置「授权回调域」

- **还在**：该网站应用的详情页里。
- **找**：**「开发信息」** 里的 **「授权回调域」** 或 **「授权回调页面」** 配置项。
- **点**：**「修改」** 或 **「设置」**（若需要）。
- **填**：只填你的**域名**，不要写 `https://`、不要写路径、不要写端口。  
  例如：`yourdomain.com` 或 `www.yourdomain.com`（你实际用哪个域名访问网站就填哪个）。
- **点**：**「保存」** 或 **「确定」**。
- **然后**：保存好后，微信侧就配置完了。

---

### 第六步：在本项目里配置（打开哪个文件夹、改哪个文件）

- **打开**：项目文件夹 `2026_2_7`，再打开里面的 **`server`** 文件夹。
- **找到**：文件 **`.env.example`**（若看不到，在资源管理器里勾选「显示隐藏的项目」或「显示已知文件类型的扩展名」；若没有这个文件，就新建一个文本，最后另存为 `.env`）。
- **复制**：把 `.env.example` **复制一份**，在同一文件夹里，把复制出来的文件**重命名**为 **`.env`**（没有前面的 `.env.example` 后缀，就是纯 `.env`）。
- **打开**：用记事本或 VS Code 打开 **`.env`** 文件。
- **改这三行**（等号右边改成你自己的，不要有空格和引号）：
  ```text
  WECHAT_APP_ID=wx你的AppID
  WECHAT_APP_SECRET=你复制下来的AppSecret
  BASE_URL=https://你的域名.com
  ```
  - `BASE_URL` 要和你网站真实访问地址一致，且必须是 **https**，域名要和第五步里填的「授权回调域」一致。
- **保存**：保存 `.env` 文件并关闭。

---

### 第七步：在服务器上运行并打开网站

- **把项目**：上传/部署到你的服务器（同一台能提供 `https://你的域名.com` 的机器）。
- **在服务器上**：进入项目的 `server` 文件夹，执行 `npm install`，再执行 `node server.js`（或用你习惯的方式常驻运行，如 pm2）。
- **打开**：浏览器，在地址栏输入 **https://你的域名.com**，回车。
- **确认**：页面能正常打开，且地址栏是 **https** 和你的域名。

---

### 第八步：点哪里、验证微信登录

- **点**：页面上的 **「微信登录」**。
- **然后**：应会跳转到微信的授权页面（二维码或确认页），用微信扫码或点「确认」。
- **再然后**：会跳回你的网站，右上角应显示你的微信昵称或「用户」。
- **最后**：做一遍制瓷流程，点 **「收藏」**，再点 **「我的作品」**，应能看到刚收藏的，且数据是按你这个微信账号保存的。

---

## 三、如果只是改配置、不搞开放平台（已有 AppID/AppSecret）

- **打开**：`2026_2_7\server` 文件夹。
- **打开或新建**：`.env` 文件（没有就从 `.env.example` 复制再重命名）。
- **改**：`WECHAT_APP_ID`、`WECHAT_APP_SECRET`、`BASE_URL` 三行，保存。
- **然后**：重启一次 Node 服务（关掉运行 `node server.js` 的窗口或进程，再重新运行一次）。
- **打开**：浏览器访问 `https://你的域名.com`，再点 **「微信登录」** 测试。

---

## 四、一句话对照表

| 你想做的事           | 打开什么 / 点哪里 |
|----------------------|-------------------|
| 本机试玩             | 双击 `启动带登录.bat` → 浏览器打开 `http://localhost:3000` → 点「微信登录」 |
| 去微信开放平台       | 浏览器打开 https://open.weixin.qq.com/ → 登录 → 管理中心 → 网站应用 |
| 填回调域             | 网站应用详情 → 开发信息 → 授权回调域 → 填域名并保存 |
| 改本项目微信配置     | 打开 `server` 文件夹 → 复制 `.env.example` 为 `.env` → 改 AppID、AppSecret、BASE_URL → 保存 |
| 验证是否登录成功     | 用浏览器打开 `https://你的域名.com` → 点「微信登录」 → 扫码/确认 → 看是否回到本站并显示已登录 |

如果你卡在某一步（例如「找不到网站应用」「没有授权回调域这一项」），告诉我你当前停在第几节、第几步，我可以按你看到的界面再写一版更贴你屏幕的步骤。
